<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Don't Forget The Elephant</title>

        <meta name="description" content="A Review of Modern PostgreSQL">
        <meta name="author" content="Keith Fiske">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="css/reveal.min.css">
        <link rel="stylesheet" href="css/theme/default.css" id="theme">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- If the query includes 'print-pdf', include the PDF print sheet -->
        <script>
            if( window.location.search.match( /print-pdf/gi ) ) {
                var link = document.createElement( 'link' );
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = 'css/print/pdf.css';
                document.getElementsByTagName( 'head' )[0].appendChild( link );
            }
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <h2>Don't Forget The Elephant</h2>
                    <h4>A Review of Modern PostgreSQL</h4>
                    <p>
                        <small>Created by <a href="http://keithf4.com">Keith Fiske</a> / <a href="http://twitter.com/keithf4">@keithf4</a></small>
                    </p>
                    <p>
                    <small>Database Administrator @ <a href="http://www.omniti.com" target="_blank">OmniTI</a></small>
                    </p>
                    <p>
                    <br/>
                    <br/>
                    <small>Follow along at <br/><a href="http://slides.keithf4.com/dont_forget" target="_blank">http://slides.keithf4.com/dont_forget</a></small>
                    </p>
                </section>

                <section>
                    <h2>OmniTI, Inc</h2>
                    <p>
                        <ul>
                            <li>Full-stack support for high-traffic websites & applications</li>
                            <ul>
                                <li>Millions of users</li>
                                <li>Terabytes of data</li>
                                <li>Gilt, Etsy, Ora.TV, Freelotto</li>
                            </ul>
                            <li>Surge Conference</li>
                            <ul>
                                <li> <a href="http://omniti.com/surge">http://surge.omniti.com</a></li>
                                <li> Annually in Sept</li>
                            </ul>
                            <li>We're hiring!</li>
                            <ul>
                                <li><a href="http://omniti.com/is/hiring">http://omniti.com/is/hiring</a></li>
                                <li>SysAdmins, DBAs, Developers
                        </ul>
                    </p>

                    <aside class="notes">
                        Also mention Linux kernel engineers for hire
                    </aside>
                </section>

                <section>
                    <h2>What is PostgreSQL?</h2>
                    <p>
                    <ul>
                        <li>Open Source RDBMS</a>
                        <li>Started at UC Berkley 1986, open sourced in 1996</li>
                        <li>BSD-type License</li>
                        <li>Follows SQL Standard very closely</li>
                        <li>Third-party Plugin Support</li>
                        <ul>
                            <li>Procedural Languages</li>
                            <ul>
                                <li>C, Java, Python, Perl, PHP, R, Ruby, etc</li>
                            </ul>
                            <li>Extensions</li>
                            <li>Background Workers</li>
                        </ul>
                        <li>Mailing Lists, IRC, Wiki, planet.postgresql.org, Conferences</li>
                    </ul>
                </section>

                <section>
                    <section>
                        <h1>8.0 Features</h1>
                        (Released Jan 2005 - EOL Oct 2010)
                    </section>
                    <section>
                        <ul>
                            <li>Native Microsoft Windows release</li>
                            <li>Savepoints</li>
                            <li>Point-In-Time Recovery (PITR)</li>
                            <li>Tablespaces</li>
                            <li>Change column types</li>
                        </ul>
                       <aside class="notes">
                           <ul>
                               <small>
                               <li>Savepoints allow specific parts of a transaction to be aborted without affecting the remainder of the transaction. Prior releases had no such capability; there was no way to recover from a statement failure within a transaction except by aborting the whole transaction. This feature is valuable for application writers who require error recovery within a complex transaction.</li>
                               </small>
                           </ul>
                       </aside>
                    </section>
                </section> 
               <!-- end 8.1 -->

                <section>
                    <section>
                        <h1>8.1 Features</h1>
                        (Released Nov 2005 - EOL Nov 2010)
                    </section>
                    <section>
                        <ul>
                            <li>Two-phase commit</li>
                            <li>Role system simplified separate user/group</li>
                            <li>Greatly improved memory management for increased concurrency performance</li>
                            <li>Auto-vacuum moved into main server (was contrib module)</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <small>
                                <li>Two-phase commit allows transactions to be "prepared" on several computers, and once all computers have successfully prepared their transactions (none failed), all transactions can be committed. Even if a machine crashes after a prepare, the prepared transaction can be committed after the machine is restarted. New syntax includes PREPARE TRANSACTION and COMMIT/ROLLBACK PREPARED. A new system view pg_prepared_xacts has also been added.</li>
                                <li>Access to the shared buffer cache was identified as a significant scalability problem, particularly on multi-CPU systems. In this release, the way that locking is done in the buffer manager has been overhauled to reduce lock contention and improve scalability. The buffer manager has also been changed to use a "clock sweep" replacement policy.</li>
                            </small>
                            </ul>
                        </aside>
                    </section>
                </section> 
               <!-- end 8.1 -->

                <section>
                    <section>
                        <h1>8.2 Features</h1>
                        (Released Dec 2006 - EOL Dec 2011)
                    </section>
                    <section>
                        <ul>
                            <li>Concentrated on user requested features for easier administration and better performance</li>
                            <ul>
                                <li>INSERT/UPDATE/DELETE ... RETURNING ...</li>
                                <li>Concurrent index creation</li>
                                <li>Many query planner improvements</li>
                                <li>More efficient locking for better concurrency</li>
                                <li>More efficient vacuuming</li>
                            </ul>
                    </section>
                </section> 
               <!-- end 8.2 -->

                <section>
                    <section>
                        <h1>8.3 Features</h1>
                        (Released Feb 2008 - EOL Feb 2013)
                    </section>
                    <section>
                        <ul>
                            <li>Full text search integrated into core system</li>
                            <li>ENUM & UUID types</li>
                            <li>Concurrent autovacuum</li>
                            <li>Updatable cursors</li>
                        </ul>
                    </section>
                </section> 
               <!-- end 8.3 -->

                <section>
                    <section>
                        <h1>8.4 Features</h1>
                        (Released July 2009 - EOL July 2014)
                    </section>
                    <section>
                        <h2>Window Functions</h2>
                    </section>
                    <section>
                        <h2>Common Table Expression</h2>
                    </section>
                    <section>
                        <h2>Parallel pg_restore</h2>
                    </section>
                    <section>
                        <h2>Automatic FSM Sizing</h2>
                        <!-- Possibly table about improved vacuuming here too -->
                    </section>
                    <section>
                        <h2>Additional</h2>
                        <ul>
                            <li>Default & variadic parameters for functions</li>
                            <li>Column permissions</li>
                            <li>Per-database locale settings</li>
                            <li>SSL certificate authentication</li>
                            <li>Live editing of functions (\ef in psql)</li>
                            <li>New contrib modules: pg_stat_statements, auto_explain, btree_gin</li>
                        </ul>
                    </section>
                </section> 
                <!-- end of 8.4 -->

                <section>
                    <section>
                        <h1>9.0 Features</h1>
                        (Released Sept 2010 - EOL Sept 2015)
                    </section>
                    <section>
                        <h2>Streaming Replication</h2>
                    </section>
                    <section>
                        <h2>Hot Standby</h2>
                    </section>
                    <section>
                        <h2>pg_upgrade</h2>
                    </section>
                    <section>
                        <h2>Enhanced permission management</h2>
                        GRANT/REVOKE IN SCHEMA, DEFAULT PRIVILEGES
                    </section>
                    <section>
                        <h2>Anonymous code blocks</h2>
                        <aside class="notes">
                            Mention that PL/pgSQL language is now automatically installed to all databases
                        </aside>
                    </section> 
                    <section>
                        <h2>Additional</h2>
                        <ul>
                            <li>Better VACUUM FULL</li>
                            <li>Windows 64-bit support</li>
                            <li>Deferrable unique constraints</li>
                            <li>Enhanced EXPLAIN. Export in JSON, XML or YAML</li>
                        </ul>

                       <aside class="notes">
                           <ul>
                               <li>VACUUM FULL now rewrites entire table and indexes rather than moving rows. Avoids index bloat that used to be caused pre-9.0</li>
                               <li>Deferred unique constraint means allowing a constraint to be checked at the end of a multi-row update instead of checking as each row is inserted</li>
                           </ul>
                        </aside>

                    </section>
                </section>
                <!-- end of 9.0 -->

                <section>
                    <section>
                        <h1>9.1 Features</h1>
                        (Released Sept 2011 - EOL Sept 2016)
                    </section>
                    <section>
                        <h2>Foreign Data Wrappers</h2>
                    </section>
                    <section>
                        <h2>Extensions</h2>
                    </section>
                    <section>
                        <h2>Writable CTE</h2>
                    </section>
                    <section>
                        <h2>Additional</h2>
                        <ul>
                            <li>Synchronous Replication</li>
                            <li>True serializable isolation</li>
                            <li>Unlogged tables</li>
                        </ul>
                    </section>
                </section> 
                <!-- end of 9.1 -->

                <section>
                    <section>
                        <h1>9.2 Features</h1>
                        (Released Sept 2012 - EOL Sept 2017)
                    </section>
                    <section>
                        <h2>Range Data Type</h2>
                    </section>
                    <section>
                        <h2>Cascading Replication</h2>
                    </section>
                    <section>
                        <h2>Additional</h2>
                        <ul>
                            <li>Index-Only scan</li>
                            <li>JSON Data Type (limited)</li>
                        </ul>
                    </section>
                </section>
                <!-- end of 9.2 -->

                <section>
                    <section>
                        <h1>9.3 Features</h1>
                        (Released Sept 2013 - EOL Sept 2018)
                    </section>
                    <section>
                        <h2>Reduce System V shared memory</h2>
                    </section>
                    <section>
                        <h2>Custom Background Worker</h2>
                    </section>
                    <section>
                        <h2>LATERAL queries</h2>
                        SQL Standard
                    </section>
                    <section>
                        <h2>Additional</h2>
                        <ul>
                            <li>JSON Operators - getting closer to being useful!</li>
                            <li>Writable Foreign Data Wrappers</li>
                            <li>An actual PostgreSQL FDW!</li>
                            <li>Materialized Views (kind of useless)</li>
                            <li>Checksum data pages</li>
                        </ul>
                    </section>
                </section>
                <!-- end of 9.3 -->

                <section>
                    <h2>Upcoming 9.4 Features</h2>
                    (ETA 4Q 2014)
                    <ul>
                        <li>Binary JSON data type. Actually useful! Replace MongoDB.</li>
                        <ul>
                            <li>Benchmark PG vs M - <a href="https://github.com/EnterpriseDB/pg_nosql_benchmark" target="_blank">https://github.com/EnterpriseDB/pg_nosql_benchmark</a>
                        </ul>
                        <li>ALTER SYSTEM command to dynamically change postgresql.conf within the database</li>
                        <li>Materialzed view refresh no longer blocks reads. Actually useful!</li>
                        <li>Dynamic loading/unloading of Bacground Workers</li>
                        <li>Logical decoding in WAL stream. First steps to native logical replication & multi-master</li>
                    </ul>
                </section>
                <!-- end of 9.4 -->

                <section>

                    <ul>
                        <li>PostgreSQL Home Page - <a href="http://www.postgresql.org" target="_blank">postgresql.org</a></li>
                        <li>Planet PostgreSQL Community News Feed - <a href="http://planet.postgresql.org" target="_blank">planet.postgresql.org</a></li>
                        <li>PostgreSQL Extension Network - <a href="http://pgxn.org" target="_blank">pgxn.org</a></li>
                        <li>OmniTI - <a href="http://www.omniti.com" target="_blank">omniti.com</a></li>
                        <li>Me! - <a href="http://www.keithf4.com" target="_blank">keithf4.com</a></li>
                    </ul>
                </section>
            </div> 


        </div>
        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.min.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

                // Parallax scrolling
                // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
                // parallaxBackgroundSize: '2100px 900px',

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
                ]
            });

        </script>

    </body>
</html>
